# Architecture & Flow Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER'S BROWSER                          â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  React Frontend (Port 3000)                          â”‚    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
â”‚  â”‚  â”‚  Dashboard   â”‚  â”‚  LessonView  â”‚  â”‚  Monaco    â”‚â”‚    â”‚
â”‚  â”‚  â”‚  (Level/XP)  â”‚  â”‚  (Challenges)â”‚  â”‚  Editor    â”‚â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚  Connection  â”‚  â”‚  API Service â”‚                â”‚    â”‚
â”‚  â”‚  â”‚  Service     â”‚  â”‚              â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                  â”‚                            â”‚
â”‚              â”‚ Web Serial       â”‚ HTTP/REST                  â”‚
â”‚              â”‚ (USB)            â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                  â”‚
               â”‚                  â†“
               â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚    â”‚  Python Backend (Port 8000)      â”‚
               â”‚    â”‚                                   â”‚
               â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
               â”‚    â”‚  â”‚  FastAPI Server            â”‚  â”‚
               â”‚    â”‚  â”‚                            â”‚  â”‚
               â”‚    â”‚  â”‚  â€¢ POST /api/compile       â”‚  â”‚
               â”‚    â”‚  â”‚  â€¢ POST /api/upload        â”‚  â”‚
               â”‚    â”‚  â”‚  â€¢ GET /download/{bin}     â”‚  â”‚
               â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
               â”‚    â”‚                                   â”‚
               â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
               â”‚    â”‚  â”‚  Arduino CLI               â”‚  â”‚
               â”‚    â”‚  â”‚  (Compilation)             â”‚  â”‚
               â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
               â”‚    â”‚                                   â”‚
               â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
               â”‚    â”‚  â”‚  esptool                   â”‚  â”‚
               â”‚    â”‚  â”‚  (Upload via serial)       â”‚  â”‚
               â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
               â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ESP32-S3 Hardware  â”‚
    â”‚                      â”‚
    â”‚   â€¢ USB Serial       â”‚
    â”‚   â€¢ Firmware Flash   â”‚
    â”‚   â€¢ Serial Output    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Shopify   â”‚
â”‚   Product   â”‚
â”‚    Page     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Click "Start Learning Now"
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Dashboard        â”‚
â”‚                     â”‚
â”‚  Level 1    0 XP    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                     â”‚
â”‚  [Start Lesson 1]   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Click "Start Learning"
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Intro Slides       â”‚
â”‚                     â”‚
â”‚  â€¢ Welcome!         â”‚
â”‚  â€¢ What you'll learnâ”‚
â”‚                     â”‚
â”‚  [Skip] [Next]      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Start or Skip
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lesson View                            â”‚
â”‚                                         â”‚
â”‚  Challenge 1: Upload and verify blink   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Code Editor   â”‚  â”‚  Wiring       â”‚ â”‚
â”‚  â”‚                â”‚  â”‚  Diagram      â”‚ â”‚
â”‚  â”‚  [Upload Code] â”‚  â”‚               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  [ğŸ’¡ Hint] [âœ… Complete]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Click "Upload Code"
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Compilation         â”‚
â”‚                      â”‚
â”‚  â³ Compiling...     â”‚
â”‚  â³ Uploading...     â”‚
â”‚  âœ… Success!         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Auto-reconnect
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serial Monitor      â”‚
â”‚                      â”‚
â”‚  > LED ON            â”‚
â”‚  > LED OFF           â”‚
â”‚  > LED ON            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Click "Mark as Complete"
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Challenge Complete  â”‚
â”‚                      â”‚
â”‚  +100 XP             â”‚
â”‚                      â”‚
â”‚  [Next Challenge â†’]  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Complete all 3 challenges
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lesson Complete!    â”‚
â”‚                      â”‚
â”‚  ğŸ‰ +100 XP          â”‚
â”‚  Level 1 â†’ Level 2   â”‚
â”‚                      â”‚
â”‚  [Next Lesson]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Code Upload Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User edits     â”‚
â”‚  code in Monaco â”‚
â”‚  Editor         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Click "Upload Code"
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                â”‚
â”‚  â€¢ Disconnect Web Serial â”‚
â”‚  â€¢ POST to /api/compile  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Request with code
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend                     â”‚
â”‚  1. Create .ino file         â”‚
â”‚  2. Run arduino-cli compile  â”‚
â”‚  3. Generate .bin files      â”‚
â”‚  4. Return build_folder      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ {success: true, build_folder: "abc123"}
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                    â”‚
â”‚  1. Download .bin file       â”‚
â”‚  2. Use Web Serial API       â”‚
â”‚  3. Flash via esptool-js     â”‚
â”‚  4. Wait for ESP32 boot      â”‚
â”‚  5. Reconnect Web Serial     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Auto-reconnect after 3 seconds
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serial Monitor              â”‚
â”‚  â€¢ Display live data         â”‚
â”‚  â€¢ Show LED status           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
lessons.js (Static Data)
    â†“
App.jsx (State Management)
    â†“
    â”œâ”€â†’ Dashboard.jsx
    â”‚       â†“
    â”‚   Displays Level/XP
    â”‚       â†“
    â”‚   User clicks "Start Lesson"
    â”‚
    â””â”€â†’ LessonView.jsx
            â†“
        Monaco Editor (Code Editing)
            â†“
        User clicks "Upload"
            â†“
        API Service (api.js)
            â†“
        POST /api/compile
            â†“
        Backend (main.py)
            â†“
        Arduino CLI
            â†“
        .bin files created
            â†“
        Return to Frontend
            â†“
        Web Serial API (connection.js)
            â†“
        ESP32 Flash
            â†“
        Serial Data Stream
            â†“
        Serial Monitor Display
            â†“
        User sees results
            â†“
        Completes challenge
            â†“
        XP updated in App.jsx state
            â†“
        Dashboard reflects new XP
```

## State Management

```
App.jsx State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  currentView: 'dashboard'      â”‚
â”‚  currentLesson: null           â”‚
â”‚  userProgress: {               â”‚
â”‚    level: 1,                   â”‚
â”‚    xp: 0,                      â”‚
â”‚    nextLevelXp: 500,           â”‚
â”‚    completedLessons: []        â”‚
â”‚  }                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ Dashboard receives userProgress
         â”‚       â†“
         â”‚   Displays: "Level 1  â­ 0 / 500 XP"
         â”‚
         â””â”€â†’ LessonView receives lesson
                 â†“
             Local state:
             â€¢ code (editable)
             â€¢ currentChallenge
             â€¢ completedChallenges
             â€¢ serialLogs
             â€¢ isConnected
                 â†“
             User completes challenge
                 â†“
             onComplete(xpReward) callback
                 â†“
             App.jsx updates userProgress
                 â†“
             New XP reflected in Dashboard
```

## Component Hierarchy

```
App.jsx
â”œâ”€ Dashboard.jsx
â”‚  â”œâ”€ Level/XP display
â”‚  â”œâ”€ Progress bar
â”‚  â”œâ”€ Welcome card
â”‚  â”œâ”€ Lesson card (Lesson 1)
â”‚  â”‚  â””â”€ onStartLesson() callback
â”‚  â””â”€ Locked lessons (future)
â”‚
â””â”€ LessonView.jsx
   â”œâ”€ Intro Slides (conditional)
   â”‚  â”œâ”€ Slide content
   â”‚  â””â”€ Navigation (Skip/Next)
   â”‚
   â”œâ”€ Top Bar
   â”‚  â”œâ”€ Back button
   â”‚  â”œâ”€ Lesson title
   â”‚  â””â”€ Connect ESP32 button
   â”‚
   â”œâ”€ Main Content (Grid)
   â”‚  â”œâ”€ Left Panel
   â”‚  â”‚  â”œâ”€ Challenge Card
   â”‚  â”‚  â”‚  â”œâ”€ Challenge prompt
   â”‚  â”‚  â”‚  â”œâ”€ Hints (progressive)
   â”‚  â”‚  â”‚  â””â”€ Complete button
   â”‚  â”‚  â”‚
   â”‚  â”‚  â””â”€ Wiring Section
   â”‚  â”‚     â”œâ”€ Diagram image
   â”‚  â”‚     â””â”€ Hardware list
   â”‚  â”‚
   â”‚  â””â”€ Right Panel
   â”‚     â”œâ”€ Code Editor (Monaco)
   â”‚     â”‚  â””â”€ Upload button
   â”‚     â”‚
   â”‚     â”œâ”€ Upload Logs (conditional)
   â”‚     â”‚  â””â”€ Compilation output
   â”‚     â”‚
   â”‚     â””â”€ Serial Monitor
   â”‚        â””â”€ Live data stream
   â”‚
   â””â”€ Event Handlers
      â”œâ”€ handleConnect()
      â”œâ”€ handleDisconnect()
      â”œâ”€ handleUpload()
      â”œâ”€ handleCompleteChallenge()
      â””â”€ handleShowHint()
```

## API Endpoints

```
Backend API (FastAPI)
â””â”€ http://localhost:8000
   â”‚
   â”œâ”€ GET /
   â”‚  â””â”€ Health check
   â”‚
   â”œâ”€ POST /api/compile
   â”‚  â”œâ”€ Body: { code: "..." }
   â”‚  â””â”€ Returns: { success, build_folder, bin_files }
   â”‚
   â”œâ”€ POST /api/upload
   â”‚  â”œâ”€ Body: { build_folder: "abc123" }
   â”‚  â””â”€ Returns: { success, message, output }
   â”‚
   â””â”€ GET /download/{folder}/{file}
      â””â”€ Returns: Binary .bin file
```

## File System Structure

```
Backend File System:
â””â”€ backend/
   â”œâ”€ main.py (running)
   â”‚
   â””â”€ builds/
      â”œâ”€ tmpXYZ123/           â† Created by tempfile
      â”‚  â”œâ”€ tmpXYZ123.ino    â† User's code
      â”‚  â”œâ”€ tmpXYZ123.ino.bin
      â”‚  â”œâ”€ tmpXYZ123.ino.bootloader.bin
      â”‚  â””â”€ tmpXYZ123.ino.partitions.bin
      â”‚
      â””â”€ tmpABC456/           â† Each compile gets new folder
         â””â”€ ...

Frontend Browser:
â””â”€ localStorage (future)
   â”œâ”€ userProgress
   â”œâ”€ completedLessons
   â””â”€ lastConnectedPort
```

## Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Deployment Layer                    â”‚
â”‚  â€¢ Vercel (Frontend)                â”‚
â”‚  â€¢ Railway (Backend)                â”‚
â”‚  â€¢ Shopify (Integration)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Layer                      â”‚
â”‚  â€¢ React 18                         â”‚
â”‚  â€¢ Vite                             â”‚
â”‚  â€¢ Monaco Editor                    â”‚
â”‚  â€¢ Web Serial API                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Layer                          â”‚
â”‚  â€¢ FastAPI (Python)                 â”‚
â”‚  â€¢ RESTful endpoints                â”‚
â”‚  â€¢ CORS middleware                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Compilation Layer                   â”‚
â”‚  â€¢ Arduino CLI                      â”‚
â”‚  â€¢ ESP32 board support              â”‚
â”‚  â€¢ Temporary file system            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Hardware Layer                      â”‚
â”‚  â€¢ ESP32-S3 via USB                 â”‚
â”‚  â€¢ Serial communication             â”‚
â”‚  â€¢ Firmware flashing                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This visual architecture shows exactly how all the pieces fit together!
